<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="theme-color" content="#23a6d5"/>
  <title>Calculadora Avanzada | Descarga APK</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    .glass-effect {
      background: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.18);
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    }
    .btn-animate:active {
      transform: scale(0.95);
    }
    .gradient-bg {
      background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
      background-size: 400% 400%;
      animation: gradient 15s ease infinite;
    }
    @keyframes gradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .neumorphism {
      border-radius: 20px;
      background: #f0f0f0;
      box-shadow: 12px 12px 24px #d9d9d9,
                  -12px -12px 24px #ffffff;
    }
  </style>
</head>
<body class="min-h-screen gradient-bg flex items-center justify-center p-4">
  <div class="container mx-auto">
    <div class="max-w-md mx-auto glass-effect rounded-2xl overflow-hidden p-8">
      <div class="flex justify-center items-center mb-6">
        <div class="flex items-center">
          <i class="fas fa-calculator text-3xl text-white mr-2"></i>
          <h1 class="text-2xl font-bold text-white">CalcPro+</h1>
        </div>
      </div>
      <div class="mb-4 neumorphism p-4 rounded-xl">
        <div id="previousOperation" class="text-gray-500 text-right text-sm h-6 overflow-hidden"></div>
        <input id="display" type="text" readonly class="w-full bg-transparent text-right text-3xl py-2 px-1 outline-none" value="0">
      </div>

      <div class="grid grid-cols-4 gap-3">
        <button onclick="clearDisplay()" class="bg-red-500 text-white p-4 rounded-xl text-xl font-bold hover:bg-red-600 transition-colors duration-200 btn-animate">C</button>
        <button onclick="deleteLastChar()" class="bg-yellow-500 text-white p-4 rounded-xl text-xl font-bold hover:bg-yellow-600 transition-colors duration-200 btn-animate">
          <i class="fas fa-backspace"></i>
        </button>
        <button onclick="setOperation('%')" class="bg-purple-500 text-white p-4 rounded-xl text-xl font-bold hover:bg-purple-600 transition-colors duration-200 btn-animate">%</button>
        <button onclick="setOperation('/')" class="bg-blue-500 text-white p-4 rounded-xl text-xl font-bold hover:bg-blue-600 transition-colors duration-200 btn-animate">÷</button>

        <button onclick="appendToDisplay('7')" class="bg-gray-200 hover:bg-gray-300 p-4 rounded-xl text-xl font-bold transition-colors duration-200 btn-animate">7</button>
        <button onclick="appendToDisplay('8')" class="bg-gray-200 hover:bg-gray-300 p-4 rounded-xl text-xl font-bold transition-colors duration-200 btn-animate">8</button>
        <button onclick="appendToDisplay('9')" class="bg-gray-200 hover:bg-gray-300 p-4 rounded-xl text-xl font-bold transition-colors duration-200 btn-animate">9</button>
        <button onclick="setOperation('*')" class="bg-blue-500 text-white p-4 rounded-xl text-xl font-bold hover:bg-blue-600 transition-colors duration-200 btn-animate">×</button>

        <button onclick="appendToDisplay('4')" class="bg-gray-200 hover:bg-gray-300 p-4 rounded-xl text-xl font-bold transition-colors duration-200 btn-animate">4</button>
        <button onclick="appendToDisplay('5')" class="bg-gray-200 hover:bg-gray-300 p-4 rounded-xl text-xl font-bold transition-colors duration-200 btn-animate">5</button>
        <button onclick="appendToDisplay('6')" class="bg-gray-200 hover:bg-gray-300 p-4 rounded-xl text-xl font-bold transition-colors duration-200 btn-animate">6</button>
        <button onclick="setOperation('-')" class="bg-blue-500 text-white p-4 rounded-xl text-xl font-bold hover:bg-blue-600 transition-colors duration-200 btn-animate">-</button>

        <button onclick="appendToDisplay('1')" class="bg-gray-200 hover:bg-gray-300 p-4 rounded-xl text-xl font-bold transition-colors duration-200 btn-animate">1</button>
        <button onclick="appendToDisplay('2')" class="bg-gray-200 hover:bg-gray-300 p-4 rounded-xl text-xl font-bold transition-colors duration-200 btn-animate">2</button>
        <button onclick="appendToDisplay('3')" class="bg-gray-200 hover:bg-gray-300 p-4 rounded-xl text-xl font-bold transition-colors duration-200 btn-animate">3</button>
        <button onclick="setOperation('+')" class="bg-blue-500 text-white p-4 rounded-xl text-xl font-bold hover:bg-blue-600 transition-colors duration-200 btn-animate">+</button>

        <button onclick="appendToDisplay('0')" class="bg-gray-200 hover:bg-gray-300 p-4 rounded-xl text-xl font-bold col-span-2 transition-colors duration-200 btn-animate">0</button>
        <button onclick="appendToDisplay('.')" class="bg-gray-200 hover:bg-gray-300 p-4 rounded-xl text-xl font-bold transition-colors duration-200 btn-animate">.</button>
        <button onclick="calculate()" class="bg-green-500 text-white p-4 rounded-xl text-xl font-bold hover:bg-green-600 transition-colors duration-200 btn-animate">=</button>
      </div>

      <div class="mt-4">
        <button class="w-full mt-4 bg-violet-600 hover:bg-violet-700 text-white py-2 px-4 rounded-xl font-semibold btn-animate">
          Creadores [ Jery Caba , Reybel Beras , Eduardo Martinez y Josting Medina ]
        </button>
      </div>

      <div class="mt-6 text-center text-white text-sm opacity-80">
        <p>CalcPro+ v1.0 - © 2025 Todos los derechos reservados</p>
        <p>5toE J,R,E,JM</p>
      </div>
    </div>
  </div>

  <script>
    let currentInput = '0';
    let previousInput = '';
    let operation = '';
    let resetScreen = false;

    const display = document.getElementById('display');
    const previousOperation = document.getElementById('previousOperation');

    function updateDisplay() {
      display.value = currentInput;
      previousOperation.textContent = previousInput;
    }

    function appendToDisplay(value) {
      if (currentInput === '0' || resetScreen) {
        currentInput = '';
        resetScreen = false;
      }
      if (value === '.' && currentInput.includes('.')) return;
      currentInput += value;
      updateDisplay();
    }

    function clearDisplay() {
      currentInput = '0';
      previousInput = '';
      operation = '';
      updateDisplay();
    }

    function deleteLastChar() {
      if (currentInput.length === 1) {
        currentInput = '0';
      } else {
        currentInput = currentInput.slice(0, -1);
      }
      updateDisplay();
    }

    function setOperation(op) {
      if (operation !== '') calculate();
      previousInput = currentInput + ' ' + op;
      operation = op;
      currentInput = '0';
      updateDisplay();
    }

    function calculate() {
      const prev = parseFloat(previousInput.split(' ')[0]);
      const current = parseFloat(currentInput);
      if (isNaN(prev) || isNaN(current)) return;

      let result;
      switch (operation) {
        case '+': result = prev + current; break;
        case '-': result = prev - current; break;
        case '*': result = prev * current; break;
        case '/':
          if (current === 0) {
            alert("No se puede dividir entre cero.");
            return;
          }
          result = prev / current;
          break;
        case '%': result = prev % current; break;
        default: return;
      }

      currentInput = result.toString();
      operation = '';
      previousInput = '';
      resetScreen = true;
      updateDisplay();
    }

    document.addEventListener('keydown', (e) => {
      if (/[0-9.]/.test(e.key)) {
        appendToDisplay(e.key);
      } else if (['+', '-', '*', '/', '%'].includes(e.key)) {
        setOperation(e.key);
      } else if (e.key === 'Enter') {
        calculate();
      } else if (e.key === 'Escape') {
        clearDisplay();
      } else if (e.key === 'Backspace') {
        deleteLastChar();
      }
    });
  </script>
</body>
</html>
